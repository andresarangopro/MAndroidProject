package com.lide.app.ui;

import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v4.app.FragmentActivity;
import android.support.v4.app.FragmentManager;
import android.support.v4.app.FragmentTransaction;
import android.widget.FrameLayout;

import com.lide.app.R;
import com.lide.app.ui.fragment.InventorySheetFragment;
import com.lide.app.ui.fragment.StockReadFragment;
import com.lide.app.ui.fragment.StockUpLoadFragment;

import butterknife.BindView;
import butterknife.ButterKnife;

/**
 * @author DaiJiCheng
 * @time 2016/7/19  9:10
 * @desc ${TODD}
 */
public class StockTakingActivity extends FragmentActivity {
    @BindView(R.id.stock_content)
    FrameLayout stock_content;

    private StockReadFragment mStockReadFragment; //扫描数据
    private StockUpLoadFragment mStockUpLoadFragment; //上传数据
    private InventorySheetFragment mInventorySheetFragment; //盘点单

    private static final int READ_FRAGMENT = 1;
    private static final int UPOLAD_FRAGMENT = 2;
    private static final int SHEET_FRAGMENT = 3;
   private  FragmentManager mManager;
    private FragmentTransaction mTransaction ;

    @Override
    protected void onCreate(@Nullable Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_stock_tacking);
        ButterKnife.bind(this);
        initView();
        addFragmet();
        //showFragmet(READ_FRAGMENT);
       // showFragmet(UPOLAD_FRAGMENT);
        showFragmet(SHEET_FRAGMENT);
    }

    private void showFragmet(int FRAGMET) {
       switch(FRAGMET){
           case READ_FRAGMENT:
               mTransaction.show(mStockReadFragment).commit();
               break;
           case UPOLAD_FRAGMENT:
               mTransaction.show(mStockUpLoadFragment).commit();
               break;
           case SHEET_FRAGMENT:
               mTransaction.show(mInventorySheetFragment).commit();
               break;
       }
    }

    private void addFragmet() {
        mTransaction.add(R.id.stock_content, mStockReadFragment).
                add(R.id.stock_content, mStockUpLoadFragment).
                add(R.id.stock_content, mInventorySheetFragment).
                hide(mStockReadFragment).hide(mStockUpLoadFragment).
                hide(mInventorySheetFragment);
    }
    private void initView() {
        mManager = getSupportFragmentManager();
        mTransaction = mManager.beginTransaction();
        mStockReadFragment = new StockReadFragment();
        mStockUpLoadFragment = new StockUpLoadFragment();
        mInventorySheetFragment = new InventorySheetFragment();
    }
}